<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 420">
  <!-- Titel -->
  <text x="600" y="40" text-anchor="middle" font-family="sans-serif" font-size="28" font-weight="bold" fill="#1e293b">MeshCore Frame-Struktur</text>

  <!-- Hauptframe-Container -->
  <rect x="50" y="80" width="1100" height="120" rx="8" fill="#1e293b" stroke="#0f172a" stroke-width="3"/>

  <!-- Header -->
  <rect x="60" y="90" width="120" height="100" rx="6" fill="#3b82f6"/>
  <text x="120" y="130" text-anchor="middle" font-family="sans-serif" font-size="18" fill="white" font-weight="bold">Header</text>
  <text x="120" y="155" text-anchor="middle" font-family="monospace" font-size="14" fill="#bfdbfe">1 Byte</text>

  <!-- Transport Codes (optional) -->
  <rect x="190" y="90" width="140" height="100" rx="6" fill="none" stroke="#06b6d4" stroke-width="2" stroke-dasharray="6,4"/>
  <rect x="195" y="95" width="130" height="90" rx="4" fill="#0e7490" opacity="0.3"/>
  <!-- Senkrechte Trennlinie zwischen den beiden 2-Byte-Blöcken -->
  <line x1="260" y1="100" x2="260" y2="180" stroke="#06b6d4" stroke-width="1" stroke-dasharray="4,3" opacity="0.5"/>
  <text x="260" y="125" text-anchor="middle" font-family="sans-serif" font-size="13" fill="#06b6d4" font-weight="bold">Transport</text>
  <text x="260" y="143" text-anchor="middle" font-family="sans-serif" font-size="13" fill="#06b6d4" font-weight="bold">Codes</text>
  <text x="260" y="165" text-anchor="middle" font-family="monospace" font-size="12" fill="#06b6d4">4 Bytes</text>
  <text x="260" y="182" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#06b6d4">(optional)</text>

  <!-- Path Length -->
  <rect x="340" y="90" width="120" height="100" rx="6" fill="#f97316"/>
  <text x="400" y="125" text-anchor="middle" font-family="sans-serif" font-size="15" fill="white" font-weight="bold">Path</text>
  <text x="400" y="143" text-anchor="middle" font-family="sans-serif" font-size="15" fill="white" font-weight="bold">Length</text>
  <text x="400" y="168" text-anchor="middle" font-family="monospace" font-size="14" fill="#fed7aa">1 Byte</text>

  <!-- Path -->
  <rect x="470" y="90" width="250" height="100" rx="6" fill="#a855f7"/>
  <!-- Senkrechte Trennstriche für einzelne Bytes -->
  <line x1="505" y1="95" x2="505" y2="185" stroke="#c084fc" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="540" y1="95" x2="540" y2="185" stroke="#c084fc" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="575" y1="95" x2="575" y2="185" stroke="#c084fc" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="610" y1="95" x2="610" y2="185" stroke="#c084fc" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="645" y1="95" x2="645" y2="185" stroke="#c084fc" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="680" y1="95" x2="680" y2="185" stroke="#c084fc" stroke-width="1" stroke-dasharray="4,3"/>
  <text x="595" y="130" text-anchor="middle" font-family="sans-serif" font-size="18" fill="white" font-weight="bold">Path</text>
  <text x="595" y="158" text-anchor="middle" font-family="monospace" font-size="14" fill="#e9d5ff">0–64 Bytes</text>

  <!-- Payload -->
  <rect x="730" y="90" width="410" height="100" rx="6" fill="#22c55e"/>
  <text x="935" y="130" text-anchor="middle" font-family="sans-serif" font-size="18" fill="white" font-weight="bold">Payload</text>
  <text x="935" y="158" text-anchor="middle" font-family="monospace" font-size="14" fill="#bbf7d0">0–184 Bytes</text>

  <!-- Pfeile und Beschriftungen unten -->

  <!-- Header Detail -->
  <line x1="120" y1="190" x2="90" y2="225" stroke="#3b82f6" stroke-width="2"/>
  <rect x="20" y="225" width="140" height="80" rx="5" fill="#eff6ff" stroke="#3b82f6" stroke-width="2"/>
  <text x="90" y="250" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#1e40af" font-weight="bold">Route Type (2 Bits)</text>
  <text x="90" y="266" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#1e40af" font-weight="bold">Payload Type (4 Bits)</text>
  <text x="90" y="282" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#1e40af" font-weight="bold">Version (2 Bits)</text>

  <!-- Transport Codes Detail -->
  <line x1="260" y1="190" x2="240" y2="225" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,3"/>
  <rect x="175" y="225" width="130" height="80" rx="5" fill="#ecfeff" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,3"/>
  <text x="240" y="250" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#0e7490" font-weight="bold">2× 2 Bytes</text>
  <text x="240" y="266" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#0e7490">Regionen-Filter</text>
  <text x="240" y="282" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#0e7490">(optional)</text>

  <!-- Path Length Detail -->
  <line x1="400" y1="190" x2="385" y2="225" stroke="#f97316" stroke-width="2"/>
  <rect x="320" y="225" width="130" height="80" rx="5" fill="#fff7ed" stroke="#f97316" stroke-width="2"/>
  <text x="385" y="250" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#9a3412" font-weight="bold">Anzahl der Hops</text>
  <text x="385" y="266" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#9a3412">0 – 64</text>
  <text x="385" y="282" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#9a3412">(0x00 – 0x40)</text>

  <!-- Path Detail -->
  <line x1="595" y1="190" x2="545" y2="225" stroke="#a855f7" stroke-width="2"/>
  <rect x="465" y="225" width="160" height="80" rx="5" fill="#faf5ff" stroke="#a855f7" stroke-width="2"/>
  <text x="545" y="250" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#7e22ce" font-weight="bold">Repeater-IDs (je 1 Byte)</text>
  <text x="545" y="266" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#7e22ce">FLOOD: Pfad wächst</text>
  <text x="545" y="282" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#7e22ce">DIRECT: Pfad schrumpft</text>

  <!-- Payload Detail -->
  <line x1="935" y1="190" x2="800" y2="225" stroke="#22c55e" stroke-width="2"/>
  <rect x="640" y="225" width="320" height="80" rx="5" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
  <text x="800" y="250" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#166534" font-weight="bold">Verschlüsselte Nachricht</text>
  <text x="800" y="266" text-anchor="middle" font-family="sans-serif" font-size="10" fill="#166534">z.B. Dest ID + Src ID + MAC + Ciphertext</text>
</svg>